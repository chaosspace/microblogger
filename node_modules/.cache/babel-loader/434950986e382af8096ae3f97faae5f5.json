{"ast":null,"code":"import axios from 'axios'; // 给请求地址前加一个\"/api\"\n\nconst instance = axios.create({\n  baseURL: 'http://127.0.0.1:8080/weiboke'\n}); // 添加返回拦截器，直接获取返回内容的data\n\ninstance.interceptors.response.use(res => {\n  return res.data;\n}); // 封装axios方法，并导出httpReq为新的请求工具\n\nexport const httpReq = (method, url, data) => {\n  return new Promise((resolve, reject) => {\n    instance({\n      method: method,\n      url: url,\n      data: data,\n      headers: {\n        Authorization: 'Bearer ' + sessionStorage.getItem('token') || null\n      }\n    }).then(data => {\n      console.log(data);\n    }, err => {\n      console.log(err);\n    });\n  });\n};","map":{"version":3,"names":["axios","instance","create","baseURL","interceptors","response","use","res","data","httpReq","method","url","Promise","resolve","reject","headers","Authorization","sessionStorage","getItem","then","console","log","err"],"sources":["E:/FontEndCode/microblogger/src/tool/httpReq.js"],"sourcesContent":["import axios from 'axios'\r\n// 给请求地址前加一个\"/api\"\r\nconst instance = axios.create({\r\n  baseURL: 'http://127.0.0.1:8080/weiboke',\r\n});\r\n// 添加返回拦截器，直接获取返回内容的data\r\ninstance.interceptors.response.use((res) => {\r\n    return res.data\r\n})\r\n// 封装axios方法，并导出httpReq为新的请求工具\r\nexport const httpReq = (method, url, data) => {\r\n  return new Promise((resolve, reject) => {\r\n    instance({\r\n      method: method,\r\n      url: url,\r\n      data: data,\r\n      headers:{\r\n        Authorization:'Bearer '+sessionStorage.getItem('token') || null\r\n      }\r\n    }).then(\r\n      (data) => {\r\n        console.log(data);\r\n\r\n      },\r\n      (err) => {\r\n        console.log(err);\r\n\r\n      }\r\n    )\r\n  })\r\n}"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB,C,CACA;;AACA,MAAMC,QAAQ,GAAGD,KAAK,CAACE,MAAN,CAAa;EAC5BC,OAAO,EAAE;AADmB,CAAb,CAAjB,C,CAGA;;AACAF,QAAQ,CAACG,YAAT,CAAsBC,QAAtB,CAA+BC,GAA/B,CAAoCC,GAAD,IAAS;EACxC,OAAOA,GAAG,CAACC,IAAX;AACH,CAFD,E,CAGA;;AACA,OAAO,MAAMC,OAAO,GAAG,CAACC,MAAD,EAASC,GAAT,EAAcH,IAAd,KAAuB;EAC5C,OAAO,IAAII,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;IACtCb,QAAQ,CAAC;MACPS,MAAM,EAAEA,MADD;MAEPC,GAAG,EAAEA,GAFE;MAGPH,IAAI,EAAEA,IAHC;MAIPO,OAAO,EAAC;QACNC,aAAa,EAAC,YAAUC,cAAc,CAACC,OAAf,CAAuB,OAAvB,CAAV,IAA6C;MADrD;IAJD,CAAD,CAAR,CAOGC,IAPH,CAQGX,IAAD,IAAU;MACRY,OAAO,CAACC,GAAR,CAAYb,IAAZ;IAED,CAXH,EAYGc,GAAD,IAAS;MACPF,OAAO,CAACC,GAAR,CAAYC,GAAZ;IAED,CAfH;EAiBD,CAlBM,CAAP;AAmBD,CApBM"},"metadata":{},"sourceType":"module"}